{"version":3,"sources":["commands/diagnostics.js"],"names":["options","packages","console","log","underline","start","getDeviceInfoAsync","uploadLogs","url","stop","raw","action","program","command","description","asyncAction"],"mappings":";;;;;;;;;;;;;;;;;;;4IAQA,iBAAsBA,OAAtB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACE,+CAAI,kCAAJ;AACA,+CAAI,sDAAJ;;AAEA,qDAAa,EAAEC,UAAU,CAAC,MAAD,EAAS,OAAT,EAAkB,cAAlB,CAAZ,EAAb;;AAEAC,oBAAQC,GAAR,CAAY,kCAAMC,SAAN,CAAgB,qBAAhB,CAAZ;AACA,8DAAcC,KAAd;AAPF;AAAA,mBAQwB,kCAAYC,kBAAZ,CAA+B;AACnDC,0BAAY;AADuC,aAA/B,CARxB;;AAAA;AAAA;AAQUC,eARV,SAQUA,GARV;;AAWE,8DAAcC,IAAd;AACAP,oBAAQC,GAAR,QAAiBK,GAAjB;AACA,0CAAIE,GAAJ,CAAQF,GAAR;;AAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeG,M;;;;;;;AARf;AAAA;AAAA;;;;AACA;AAAA;AAAA;;;;AACA;AAAA;AAAA;;;;AAEA;AAAA;AAAA;;;;AAEA;AAAA;AAAA;;;;kBAkBe,mBAAW;AACxBC,UACGC,OADH,CACW,2BADX,EAEGC,WAFH,CAEe,gFAFf,EAGGC,WAHH,CAGeJ,MAHf;AAID,C","file":"../../commands/diagnostics.js","sourcesContent":["import { Diagnostics } from 'xdl';\nimport { print as envinfoPrint } from 'envinfo';\nimport chalk from 'chalk';\n\nimport simpleSpinner from '@expo/simple-spinner';\n\nimport log from '../log';\n\nasync function action(options) {\n  log('Generating diagnostics report...');\n  log('You can join our slack here: https://slack.expo.io/.');\n\n  envinfoPrint({ packages: ['expo', 'react', 'react-native'] });\n\n  console.log(chalk.underline('Diagnostics report:'));\n  simpleSpinner.start();\n  const { url } = await Diagnostics.getDeviceInfoAsync({\n    uploadLogs: true,\n  });\n  simpleSpinner.stop();\n  console.log(`  ${url}\\n`);\n  log.raw(url);\n}\n\nexport default program => {\n  program\n    .command('diagnostics [project-dir]')\n    .description('Uploads diagnostics information and returns a url to share with the Expo team.')\n    .asyncAction(action);\n};\n"],"sourceRoot":"/exp@57.2.1/src"}